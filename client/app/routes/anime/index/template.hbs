{{! TODO: Remove/Replace with CSS }}
<style>.global-footer {display: none;}</style>

<div class="media-browse">
  <div class="media-grid columns">
    <div class="filter-options">
      <div class="filter-wrapper">
        <!-- Date Range Filter -->
        <div class="filter-widget">
          <div class="filter-header">
            <label class="filter-title">Year</label>
            <span class="filter-values">{{year.[0]}} - {{year.[1]}}</span>
          </div>
          {{foundation-slider start=1914 end=2016
                              initialStart=year.[0] initialEnd=year.[1]
                              doubleSided=true decimal=0
                              onUpdate=(action (mut year))
                              onRelease=(action 'reload')}}
          <div class="filter-legend">
            <div class="low-value">
              1914
            </div>
            <div class="high-value">
              2016
            </div>
          </div>
          {{! TODO: }}
          <button class="expanded dropdown button" data-toggle="timeframe-dropdown">Using slider</button>
          <div class="dropdown-pane" id="timeframe-dropdown" data-dropdown data-auto-focus="true">
            <ul>
              <li><a href="#">Test</a></li>
            </ul>
          </div>
        </div>

        <!-- Rating Filter -->
         <div class="filter-widget">
          <div class="filter-header">
            <label class="filter-title">Avg. Score</label>
            <span class="filter-values">{{averageRating.[0]}} - {{averageRating.[1]}}</span>
          </div>
          {{foundation-slider start=0.5 end=5.0 step=0.5
                              initialStart=averageRating.[0] initialEnd=averageRating.[1]
                              doubleSided=true decimal=1
                              onUpdate=(action (mut averageRating))
                              onRelease=(action 'reload')}}
          <div class="filter-legend">
            <div class="low-value">
              <i class="fa fa-star-half-o"></i>
            </div>
            <div class="high-value">
              <i class="fa fa-star"></i>
              <i class="fa fa-star"></i>
              <i class="fa fa-star"></i>
              <i class="fa fa-star"></i>
              <i class="fa fa-star"></i>
            </div>
          </div>
        </div>

        <!-- Where to Watch Filter -->
         <div class="filter-widget">
          <div class="filter-header">
            <label class="filter-title">Streaming (U.S.)</label>
            <span class="filter-values">{{streamers.length}}</span>
          </div>
          {{#box-select
            class="box-select"
            selection=allStreamers
            selected=streamers
            onSelect=(action (mut streamers)) as |option|
          }}
            <span class={{option.name}}></span>
          {{/box-select}}
          {{! TODO: Implement }}
          <div class="language-select">
            <input id="subbed" type="checkbox" checked="checked"><label for="subbed">Subbed</label>
            <input id="dubbed" type="checkbox" checked="checked"><label for="dubbed">Dubbed</label>
          </div>
        </div>


        <!-- Episode Filter -->
         <div class="filter-widget">
          <div class="filter-header">
            <label class="filter-title">Episodes</label>
            <span class="filter-values">{{episodeCount.[0]}} - {{episodeCount.[1]}}</span>
          </div>
          {{! TODO: 1000 is too high? }}
          {{foundation-slider start=1 end=1000 step=1
                              initialStart=episodeCount.[0]
                              initialEnd=episodeCount.[1]
                              doubleSided=true decimal=0
                              onUpdate=(action (mut episodeCount))
                              onRelease=(action 'reload')}}
          <div class="filter-legend">
            <div class="low-value">
              1
            </div>
            <div class="high-value">
              âˆž
            </div>
          </div>
        </div>


        <!-- Rating Filter -->
         <div class="filter-widget">
          <div class="filter-header">
            <label class="filter-title">Rating</label>
            <span class="filter-values">{{ageRating.length}}</span>
          </div>
          {{#box-select
            class="rating-select"
            selection=allAgeRatings
            selected=ageRating
            onSelect=(action (mut ageRating)) as |option|
          }}
            {{option.name}}
          {{/box-select}}
        </div>



        <!-- Categories Filter -->
         <div class="filter-widget">
          <div class="filter-header">
            <label class="filter-title">Categories</label>
            <span class="filter-values">{{genres.length}}</span>
          </div>
          {{#box-select
            class="category-select"
            selection=allGenres
            selected=genres
            onSelect=(action (mut genres)) as |option|
          }}
            <a href="#">{{option.name}}</a>
          {{/box-select}}
        </div>
      </div>
    </div>

    <div class="search-media">
      <i class="fa fa-search"></i>
      {{one-way-input
        type=search
        update=(action 'filterText')
        placeholder="Search by title, director, studio or voice actor"}}
    </div>
    <div class="media-posters">
      <div class="row">
        {{#each media as |anime|}}
          {{media-poster-summary
            media=anime}}
        {{/each}}
      </div>

      {{scrolling-paginator model=media}}
    </div>
  </div>
</div>
